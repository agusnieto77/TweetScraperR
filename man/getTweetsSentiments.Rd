% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getTweetsSentiments.R
\name{getTweetsSentiments}
\alias{getTweetsSentiments}
\title{Analyze sentiments of tweets}
\usage{
getTweetsSentiments(
  tweets,
  api_key = Sys.getenv("OPENAI_API_KEY"),
  model = "gpt-4o-mini",
  dir = getwd()
)
}
\arguments{
\item{tweets}{Un vector de caracteres que contiene los tweets a analizar.}

\item{api_key}{Una cadena de caracteres con la clave de API de OpenAI. Por defecto,
se intenta obtener de la variable de entorno OPENAI_API_KEY.}

\item{model}{Una cadena de caracteres que especifica el modelo de OpenAI a utilizar.
Por defecto es "gpt-4o-mini".}

\item{dir}{Una cadena de caracteres que especifica el directorio donde se guardarán
los archivos RDS con los resultados. Por defecto es el directorio de trabajo actual.}
}
\value{
Un tibble con los resultados del análisis para cada tweet. Cada fila
contiene el tweet original y los resultados del análisis (tono, sentimiento,
presencia de expresiones de odio, si está direccionado, si contiene un llamado
a la acción y una explicación detallada).
}
\description{
\if{html}{\out{<a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" target="_blank">}}\if{html}{\out{<img src="https://lifecycle.r-lib.org/articles/figures/lifecycle-experimental.svg" alt="[Experimental]">}}\if{html}{\out{</a>}}

Esta función toma un vector de tweets y utiliza la API de OpenAI para realizar
un análisis de sentimiento detallado de cada tweet. El análisis incluye el tono,
el sentimiento general, la presencia de expresiones de odio, si el tweet está
direccionado a alguien específico y si contiene un llamado a la acción.
}
\details{
La función realiza las siguientes operaciones:
\enumerate{
\item Verifica que se haya proporcionado una clave de API válida.
\item Define un prompt detallado para el análisis de los tweets.
\item Define una función interna \code{analyzeTweet} que procesa cada tweet individualmente.
\item Procesa los tweets en lotes de 250 para manejar grandes volúmenes de datos.
\item Guarda resultados parciales cada 50 tweets procesados.
\item Devuelve los resultados como un tibble.
}

La función utiliza la API de OpenAI para realizar el análisis de sentimiento,
por lo que requiere una conexión a Internet y una clave de API válida.
}
\examples{
\dontrun{
tweets <- c("¡Qué día tan maravilloso! 😊", "Odio este producto, nunca lo compren. 😠")
resultados <- getTweetsSentiments(tweets)
print(resultados)
}

}
